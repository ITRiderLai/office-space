# 首页工作台分析文档

## 1. 页面概述

首页工作台是办公用房管理系统的数据可视化大屏页面，采用深蓝色科技风格设计，展示系统核心数据统计信息。

## 2. 页面布局

页面采用左右分栏布局：
- **左侧区域**：地图可视化（占据整个左侧）
- **右侧区域**：数据统计面板 + 常用工具

```
┌─────────────────────────────────────────────────────────────────────┐
│                                                                     │
│  ┌──────────────────────┐  ┌────────────────────────────────────┐  │
│  │  [清除] [放大] [缩小] │  │           总 体 概 况              │  │
│  │                      │  │  76    2065   18/56  145.36  465.24│  │
│  │                      │  │  单位  人数   院落   面积    土地  │  │
│  │                      │  └────────────────────────────────────┘  │
│  │                      │                                          │
│  │                      │  ┌────────────────┐ ┌────────────────┐  │
│  │                      │  │   机构类型     │ │   编制人数     │  │
│  │      地图可视化       │  │   (条形图)     │ │   (柱状图)     │  │
│  │     （云南省地图）    │  └────────────────┘ └────────────────┘  │
│  │                      │                                          │
│  │      占据整个        │  ┌────────────────┐ ┌────────────────┐  │
│  │      左侧区域        │  │   使用情况     │ │  办公用房面积   │  │
│  │                      │  │   (饼图)       │ │   (柱状图)     │  │
│  │                      │  └────────────────┘ └────────────────┘  │
│  │                      │                                          │
│  │                      │  ┌────────────────────────────────────┐  │
│  │                      │  │  常用工具                          │  │
│  │  [区域] [地图]       │  │  [政策法规] [通知公告]             │  │
│  │                      │  │  [面积计算器] [手册] [法规] [公告] │  │
│  └──────────────────────┘  └────────────────────────────────────┘  │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

## 3. 设计元素详解

### 3.1 整体风格

| 属性 | 值 |
|------|-----|
| 背景色 | 深蓝色渐变 `#0a1628` 至 `#1a3a5c` |
| 主题风格 | 科技感数据可视化大屏 |
| 主色调 | 蓝色系 `#1890ff`、`#00d4ff` |
| 辅助色 | 金色 `#ffc107`、绿色 `#52c41a` |

### 3.2 左侧地图区域

#### 3.2.1 工具栏

| 属性 | 值 |
|------|-----|
| 位置 | 地图区域左上角 |
| 按钮 | 清除、放大、缩小 |
| 按钮样式 | 深色背景 + 浅色文字/图标 |
| 边框 | 1px 边框 |

#### 3.2.2 地图组件

| 属性 | 值 |
|------|-----|
| 地图类型 | 云南省行政区划地图 |
| 地图样式 | 蓝色科技风格，带边界高亮 |
| 交互 | 支持区域点击、缩放 |
| 实现建议 | 使用 ECharts 地图组件或 AMap |

#### 3.2.3 模式切换

| 属性 | 值 |
|------|-----|
| 位置 | 地图区域左下角 |
| 选项 | "区域" / "地图" |
| 默认选中 | 区域 |
| 样式 | 分段按钮组 |

### 3.3 右侧数据面板

#### 3.3.1 总体概况卡片

| 指标 | 图标 | 数值 | 单位 |
|------|------|------|------|
| 单位数 | 建筑图标 | 76 | 个 |
| 编制人数 | 人员图标 | 2065 | 人 |
| 院落/楼宇 | 楼房图标 | 18/56 | 个 |
| 办公用房楼宇面积 | 面积图标 | 145.36 | 万㎡ |
| 土地面积 | 土地图标 | 465.24 | 万㎡ |

**样式特点：**
- **背景图**：`src/assets/dashboard/bg-总体概况.png`
- 标题带装饰线条
- 每个指标配有蓝色渐变圆形图标
- 数值使用大字号突出显示
- 水平排列，均匀分布

#### 3.3.2 机构类型（条形图）

| 类型 | 数值 |
|------|------|
| 行政 | 1130 |
| 参公 | 998 |
| 事业 | 66 |
| 其他 | 280 |

**样式配置：**
- **背景图**：`src/assets/dashboard/bg-cont.png`
- 类型：水平条形图
- 颜色：蓝色渐变
- 数值标签：显示在条形末端
- 刻度：0-100（百分比）

#### 3.3.3 编制人数（柱状图）

| 级别 | 数值 |
|------|------|
| 正省级 | 2,000 |
| 副省级 | 2,000 |
| 正厅级 | 6,256 |
| 副厅级 | 3,462 |
| 副处级 | 16,235 |
| 处级以下 | 3,866 |

**样式配置：**
- **背景图**：`src/assets/dashboard/bg-cont.png`
- 类型：垂直柱状图
- 颜色：蓝色渐变（从浅到深）
- Y轴范围：0-25,000
- 数值标签：显示在柱顶

#### 3.3.4 使用情况（饼图/环形图）

| 类型 | 数值 | 占比 |
|------|------|------|
| 自用 | 600 | 60% |
| 闲置 | 50 | 5% |
| 出租 | 100 | 10% |
| 出借 | 150 | 15% |

**样式配置：**
- **背景图**：`src/assets/dashboard/bg-cont.png`
- 类型：环形饼图
- 颜色：蓝色、绿色、黄色、橙色
- 图例：右侧显示
- 中心：空心或显示总数

#### 3.3.5 办公用房面积（柱状图）

| 类型 | 数值 |
|------|------|
| 办公室 | 2,000 |
| 服务用房 | 2,000 |
| 设备用房 | 3,256 |
| 附属用房 | 3,462 |
| 技术业务用房 | 16,235 |
| 其他 | 3,866 |

**样式配置：**
- **背景图**：`src/assets/dashboard/bg-cont.png`
- 类型：垂直柱状图
- 颜色：蓝色渐变
- Y轴范围：0-25,000
- X轴标签：两行显示

### 3.4 常用工具区域

采用左侧垂直Tab + 右侧内容区的布局：

```
┌──────────┬─────────────────────────────────────────┐
│ 常用工具  │                                         │
│          │  [面积计算器]  [用户手册]  [政策法规]  [通知公告] │
│ 政策法规  │                                         │
│          │                                         │
│ 通知公告  │                                         │
└──────────┴─────────────────────────────────────────┘
```

**整体背景图**：`src/assets/dashboard/bg-工具.png`

#### 3.4.1 左侧Tab菜单

| 属性 | 值 |
|------|-----|
| 标题 | 常用工具 |
| Tab项 | 政策法规、通知公告 |
| 布局 | 垂直排列 |
| 选中样式 | 高亮背景 |

#### 3.4.2 右侧工具卡片（常用工具Tab下）

| 工具名称 | 图标文件 | 功能描述 |
|----------|----------|----------|
| 办公用房面积计算器 | `计算器.png` | 面积计算工具 |
| 用户手册 | `用户手册.png` | 系统使用手册 |
| 政策法规 | `政策法规.png` | 政策法规查看 |
| 通知公告 | `通知公告.png` | 通知公告列表 |

**工具卡片样式：**
- **背景图**：`src/assets/dashboard/bg-工具项.png`
- 图标 + 文字垂直排列
- 悬停效果
- 卡片水平排列

#### 3.4.3 右侧内容（政策法规Tab下）

显示政策法规列表

#### 3.4.4 右侧内容（通知公告Tab下）

显示通知公告列表

### 3.5 面板标题样式

> **注意**：卡片背景图仅提供背景，标题需要使用代码实现

所有数据面板标题采用统一装饰样式：
- 左右两侧有装饰线条（虚线 + 装饰符号）
- 标题文字居中
- 文字颜色为浅色（白色或浅蓝色）

**标题列表：**
| 卡片 | 标题文字 |
|------|----------|
| 总体概况 | 总体概况 |
| 机构类型 | 机构类型 |
| 编制人数 | 编制人数 |
| 使用情况 | 使用情况 |
| 办公用房面积 | 办公用房面积 |

**CSS 参考：**
```css
.panel-title {
  display: flex;
  align-items: center;
  justify-content: center;
  color: #fff;
  font-size: 16px;
  padding: 10px 0;
}

.panel-title::before,
.panel-title::after {
  content: '';
  flex: 1;
  height: 1px;
  background: linear-gradient(to right, transparent, #1890ff);
}

.panel-title::before {
  margin-right: 15px;
}

.panel-title::after {
  margin-left: 15px;
  background: linear-gradient(to left, transparent, #1890ff);
}
```

## 4. 数据结构

### 4.1 总体概况数据

```typescript
interface OverviewData {
  unitCount: number        // 单位数
  staffCount: number       // 编制人数
  courtyardCount: number   // 院落数
  buildingCount: number    // 楼宇数
  buildingArea: number     // 办公用房楼宇面积（万㎡）
  landArea: number         // 土地面积（万㎡）
}
```

### 4.2 机构类型数据

```typescript
interface OrgTypeData {
  name: string   // 类型名称：行政、参公、事业、其他
  value: number  // 数量
}
```

### 4.3 编制人数数据

```typescript
interface StaffLevelData {
  level: string  // 级别：正省级、副省级、正厅级、副厅级、副处级、处级以下
  count: number  // 人数
}
```

### 4.4 使用情况数据

```typescript
interface UsageData {
  type: string    // 类型：自用、闲置、出租、出借
  value: number   // 数量
  percent: number // 占比
}
```

### 4.5 办公用房面积数据

```typescript
interface RoomAreaData {
  type: string   // 类型：办公室、服务用房、设备用房、附属用房、技术业务用房、其他
  area: number   // 面积
}
```

## 5. API 接口

```typescript
// 获取首页工作台数据
GET /api/dashboard/overview
Response: {
  code: 200,
  data: {
    overview: OverviewData,
    orgTypes: OrgTypeData[],
    staffLevels: StaffLevelData[],
    usageData: UsageData[],
    roomAreas: RoomAreaData[]
  }
}

// 获取地图数据
GET /api/dashboard/map-data
Response: {
  code: 200,
  data: {
    regions: Array<{
      code: string,
      name: string,
      value: number
    }>
  }
}
```

## 6. 技术要点

### 6.1 图表库选择

推荐使用 **ECharts** 实现所有图表：
- 条形图、柱状图、饼图
- 地图可视化
- 支持自定义主题配色

### 6.2 地图实现方案

**方案一：ECharts 地图（推荐）**
- 使用 ECharts 注册云南省地图 JSON
- 支持区域高亮、点击交互
- 科技风格主题配置

**方案二：高德地图**
- 使用 AMap 自定义样式
- 配合矢量图层绘制区域

### 6.3 响应式适配

- 大屏展示：保持设计稿比例
- 普通屏幕：图表自适应缩放
- 建议最小宽度：1400px

### 6.4 数据刷新

- 支持定时刷新（可配置间隔）
- 支持手动刷新按钮

## 7. 组件拆分建议

```
src/views/dashboard/
├── index.vue                    # 首页工作台主页面
├── components/
│   ├── MapPanel.vue            # 地图面板（含工具栏、模式切换）
│   ├── OverviewCard.vue        # 总体概况卡片
│   ├── OrgTypeChart.vue        # 机构类型条形图
│   ├── StaffLevelChart.vue     # 编制人数柱状图
│   ├── UsageChart.vue          # 使用情况饼图
│   ├── RoomAreaChart.vue       # 办公用房面积柱状图
│   ├── QuickTools.vue          # 常用工具入口
│   └── PanelTitle.vue          # 面板标题组件（装饰线条）
```

## 8. 开发清单

- [ ] 创建首页工作台主页面 `index.vue`
  - [ ] 整体深色背景布局
  - [ ] 左右分栏结构
- [ ] 地图面板组件 `MapPanel.vue`
  - [ ] 集成 ECharts 云南省地图
  - [ ] 工具栏（清除、放大、缩小）
  - [ ] 区域/地图模式切换
- [ ] 总体概况组件 `OverviewCard.vue`
  - [ ] 5个统计指标卡片
  - [ ] 图标 + 数值 + 单位
  - [ ] 装饰标题
- [ ] 机构类型图表 `OrgTypeChart.vue`
  - [ ] 水平条形图
  - [ ] 蓝色渐变配色
- [ ] 编制人数图表 `StaffLevelChart.vue`
  - [ ] 垂直柱状图
  - [ ] 蓝色渐变配色
- [ ] 使用情况图表 `UsageChart.vue`
  - [ ] 环形饼图
  - [ ] 右侧图例
- [ ] 办公用房面积图表 `RoomAreaChart.vue`
  - [ ] 垂直柱状图
  - [ ] X轴标签换行
- [ ] 常用工具组件 `QuickTools.vue`
  - [ ] 4个工具入口卡片
  - [ ] 图标 + 文字
- [ ] 面板标题组件 `PanelTitle.vue`
  - [ ] 装饰线条样式
- [ ] Mock 数据
  - [ ] 首页统计数据接口
  - [ ] 地图数据接口
- [ ] API 接口定义
- [ ] 路由配置（首页作为默认页面）

## 9. 注意事项

1. **地图组件**：地图实现较为复杂，可先使用占位图或简化版本，后续再完善
2. **图表主题**：需要统一配置 ECharts 深色主题，确保与背景融合
3. **性能优化**：多个图表同时渲染需注意性能，考虑懒加载或分批渲染
4. **数据格式**：与后端确认数据格式，Mock 数据需要覆盖各种场景

## 10. 静态资源

### 10.1 图标资源

| 文件 | 路径 | 用途 |
|------|------|------|
| 计算器.png | `src/assets/dashboard/计算器.png` | 面积计算器工具图标 |
| 用户手册.png | `src/assets/dashboard/用户手册.png` | 用户手册工具图标 |
| 政策法规.png | `src/assets/dashboard/政策法规.png` | 政策法规工具图标 |
| 通知公告.png | `src/assets/dashboard/通知公告.png` | 通知公告工具图标 |

### 10.2 背景图资源

| 文件 | 路径 | 用途 |
|------|------|------|
| bg-cont.png | `src/assets/dashboard/bg-cont.png` | 内容区域背景 |
| bg-总体概况.png | `src/assets/dashboard/bg-总体概况.png` | 总体概况卡片背景 |
| bg-工具.png | `src/assets/dashboard/bg-工具.png` | 常用工具区域背景 |
| bg-工具项.png | `src/assets/dashboard/bg-工具项.png` | 工具卡片项背景 |

## 11. 颜色参考

```css
:root {
  /* 背景色 */
  --dashboard-bg-start: #0a1628;
  --dashboard-bg-end: #1a3a5c;

  /* 主色调 */
  --dashboard-primary: #1890ff;
  --dashboard-primary-light: #00d4ff;

  /* 图表色 */
  --chart-blue-1: #0066cc;
  --chart-blue-2: #0088ff;
  --chart-blue-3: #00aaff;
  --chart-green: #52c41a;
  --chart-yellow: #ffc107;
  --chart-orange: #fa8c16;

  /* 文字色 */
  --text-light: #ffffff;
  --text-secondary: rgba(255, 255, 255, 0.7);
}
```
