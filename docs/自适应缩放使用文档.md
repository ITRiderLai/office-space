# é¡µé¢è‡ªé€‚åº”ç¼©æ”¾ä½¿ç”¨æ–‡æ¡£

## ğŸ“– æ¦‚è¿°

é¡¹ç›®å·²ç»é›†æˆäº†åŸºäº **rem + vw/vh** çš„è‡ªé€‚åº”ç¼©æ”¾æ–¹æ¡ˆï¼Œå¯ä»¥å®ç°é¡µé¢éšæµè§ˆå™¨çª—å£å°ºå¯¸ç­‰æ¯”ç¼©æ”¾ã€‚

## ğŸ¯ æ ¸å¿ƒåŸç†

- **è®¾è®¡ç¨¿åŸºå‡†**: 1920px Ã— 1080px
- **æ¢ç®—è§„åˆ™**: è®¾è®¡ç¨¿ 1920px = æ ¹å…ƒç´  100px = 1rem
- **è®¡ç®—å…¬å¼**: è®¾è®¡ç¨¿ px å€¼ / 100 = rem å€¼
  - ä¾‹å¦‚ï¼š68px = 0.68remï¼Œ200px = 2rem

## ğŸ“ ç›¸å…³æ–‡ä»¶

```
src/
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ flexible.ts          # è‡ªé€‚åº”æ ¸å¿ƒé€»è¾‘
â”œâ”€â”€ styles/
â”‚   â””â”€â”€ mixins.scss           # SCSS å·¥å…·å‡½æ•°
â””â”€â”€ main.ts                   # åˆå§‹åŒ–é…ç½®
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šä½¿ç”¨ SCSS å‡½æ•°ï¼ˆæ¨èï¼‰

åœ¨ `.vue` æ–‡ä»¶çš„ `<style lang="scss">` ä¸­ç›´æ¥ä½¿ç”¨ï¼š

```vue
<template>
  <div class="header">
    <h1 class="title">åŠå…¬ç”¨æˆ¿ç®¡ç†ç³»ç»Ÿ</h1>
  </div>
</template>

<style lang="scss" scoped>
.header {
  height: px2rem(68);           // 68px -> 0.68rem
  padding: px2rem(20);          // 20px -> 0.2rem
  font-size: px2rem(22);        // 22px -> 0.22rem
  margin: px2rem(10) px2rem(20); // 10px 20px -> 0.1rem 0.2rem
}

.title {
  line-height: px2rem(31);
  letter-spacing: px2rem(4);
}
</style>
```

### æ–¹å¼äºŒï¼šä½¿ç”¨ vw/vh å‡½æ•°

```vue
<style lang="scss" scoped>
.container {
  width: vw(1200);    // 1200px -> 62.5vw (ç›¸å¯¹äº 1920px)
  height: vh(540);    // 540px -> 50vh (ç›¸å¯¹äº 1080px)
}

.sidebar {
  width: vw(240);     // 240px -> 12.5vw
}
</style>
```

### æ–¹å¼ä¸‰ï¼šæ‰‹åŠ¨è®¡ç®— rem

å¦‚æœä¸ä½¿ç”¨ SCSSï¼Œå¯ä»¥æ‰‹åŠ¨è®¡ç®—ï¼š

```vue
<style scoped>
.header {
  height: 0.68rem;      /* 68px / 100 = 0.68rem */
  padding: 0.2rem;      /* 20px / 100 = 0.2rem */
  font-size: 0.22rem;   /* 22px / 100 = 0.22rem */
}
</style>
```

### æ–¹å¼å››ï¼šåœ¨ JS/TS ä¸­ä½¿ç”¨

```typescript
import { pxToRem, remToPx } from '@/utils/flexible'

// px è½¬ rem
const width = pxToRem(200)  // "2rem"

// rem è½¬ pxï¼ˆè·å–å®é™…åƒç´ å€¼ï¼‰
const actualPx = remToPx(2) // æ ¹æ®å½“å‰ç¼©æ”¾æ¯”ä¾‹è®¡ç®—
```

## ğŸ› ï¸ SCSS å·¥å…·å‡½æ•°å®Œæ•´åˆ—è¡¨

### 1. px2rem($px, $base)
å°† px è½¬æ¢ä¸º rem

```scss
.box {
  width: px2rem(100);        // 1rem
  height: px2rem(200, 100);  // 2rem (å¯è‡ªå®šä¹‰åŸºå‡†å€¼)
}
```

### 2. vw($px, $designWidth)
å°† px è½¬æ¢ä¸º vw

```scss
.container {
  width: vw(960);     // 50vw (åŸºäº 1920px)
  width: vw(750, 750); // 100vw (åŸºäº 750px è®¾è®¡ç¨¿)
}
```

### 3. vh($px, $designHeight)
å°† px è½¬æ¢ä¸º vh

```scss
.full-page {
  height: vh(1080);    // 100vh (åŸºäº 1080px)
  min-height: vh(540); // 50vh
}
```

### 4. size($width, $height)
å¿«é€Ÿè®¾ç½®å®½é«˜

```scss
.square {
  @include size(100);      // width: 1rem; height: 1rem;
}

.rectangle {
  @include size(200, 100); // width: 2rem; height: 1rem;
}
```

### 5. position($top, $right, $bottom, $left)
å¿«é€Ÿè®¾ç½®å®šä½

```scss
.absolute-box {
  position: absolute;
  @include position(10, 20, null, 30);
  // top: 0.1rem; right: 0.2rem; left: 0.3rem;
}
```

### 6. flex($justify, $align, $direction)
å¿«é€Ÿè®¾ç½® Flex å¸ƒå±€

```scss
.flex-center {
  @include flex(center, center);
  // display: flex; justify-content: center; align-items: center;
}

.flex-between {
  @include flex(space-between, center, row);
}
```

### 7. ellipsis($line)
æ–‡å­—æº¢å‡ºçœç•¥

```scss
.single-line {
  @include ellipsis();    // å•è¡Œçœç•¥
}

.multi-line {
  @include ellipsis(2);   // ä¸¤è¡Œçœç•¥
}
```

### 8. respond-to($breakpoint)
å“åº”å¼æ–­ç‚¹

```scss
.responsive-box {
  font-size: px2rem(16);
  
  @include respond-to(tablet) {  // < 1024px
    font-size: px2rem(14);
  }
  
  @include respond-to(mobile) {  // < 768px
    font-size: px2rem(12);
  }
}
```

### 9. fluid-font($min, $max, $minWidth, $maxWidth)
æµå¼å­—ä½“ï¼ˆè‡ªåŠ¨ç¼©æ”¾ï¼‰

```scss
.title {
  @include fluid-font(16, 24);
  // åœ¨ 1280px-2560px ä¹‹é—´å¹³æ»‘è¿‡æ¸¡
}
```

## ğŸ“ å®é™…æ¡ˆä¾‹

### æ¡ˆä¾‹ 1ï¼šå¤´éƒ¨å¯¼èˆª

```vue
<template>
  <div class="header">
    <div class="logo">ç³»ç»Ÿ Logo</div>
    <nav class="nav">
      <a href="#">é¦–é¡µ</a>
      <a href="#">æ•°æ®</a>
    </nav>
  </div>
</template>

<style lang="scss" scoped>
.header {
  height: px2rem(68);
  padding: 0 px2rem(20);
  background: var(--global-primary-color);
  @include flex(space-between, center);
}

.logo {
  font-size: px2rem(22);
  font-weight: bold;
  color: #fff;
}

.nav {
  @include flex(flex-end, center);
  gap: px2rem(30);
  
  a {
    font-size: px2rem(16);
    color: #fff;
    padding: px2rem(10) px2rem(15);
    
    &:hover {
      background: rgba(255, 255, 255, 0.1);
      border-radius: px2rem(4);
    }
  }
}
</style>
```

### æ¡ˆä¾‹ 2ï¼šå¡ç‰‡ç»„ä»¶

```vue
<template>
  <div class="card">
    <div class="card-header">
      <h3 class="card-title">ç»Ÿè®¡æ•°æ®</h3>
    </div>
    <div class="card-body">
      <div class="stat-item">
        <span class="label">æ€»æ•°</span>
        <span class="value">1,234</span>
      </div>
    </div>
  </div>
</template>

<style lang="scss" scoped>
.card {
  width: px2rem(320);
  border-radius: px2rem(8);
  box-shadow: 0 px2rem(2) px2rem(8) rgba(0, 0, 0, 0.1);
  overflow: hidden;
}

.card-header {
  padding: px2rem(16) px2rem(20);
  background: #f5f5f5;
  border-bottom: 1px solid #e0e0e0;
}

.card-title {
  font-size: px2rem(18);
  font-weight: 500;
  margin: 0;
  @include ellipsis();
}

.card-body {
  padding: px2rem(20);
}

.stat-item {
  @include flex(space-between, center);
  padding: px2rem(12) 0;
  
  .label {
    font-size: px2rem(14);
    color: #666;
  }
  
  .value {
    font-size: px2rem(24);
    font-weight: bold;
    color: var(--global-primary-color);
  }
}
</style>
```

### æ¡ˆä¾‹ 3ï¼šæ•°æ®å¤§å±

```vue
<template>
  <div class="data-screen">
    <div class="screen-header">æ•°æ®å¤§å±</div>
    <div class="screen-content">
      <div class="panel left-panel">å·¦ä¾§é¢æ¿</div>
      <div class="panel center-panel">ä¸­é—´é¢æ¿</div>
      <div class="panel right-panel">å³ä¾§é¢æ¿</div>
    </div>
  </div>
</template>

<style lang="scss" scoped>
.data-screen {
  width: 100vw;
  height: 100vh;
  background: #0a1628;
  @include flex(center, center, column);
  overflow: hidden;
}

.screen-header {
  height: vh(100);
  font-size: px2rem(36);
  color: #fff;
  @include flex(center, center);
}

.screen-content {
  flex: 1;
  width: 100%;
  padding: px2rem(20);
  @include flex(space-between, stretch);
  gap: px2rem(20);
}

.panel {
  flex: 1;
  background: rgba(0, 32, 64, 0.6);
  border: 1px solid rgba(0, 212, 255, 0.3);
  border-radius: px2rem(8);
  padding: px2rem(20);
}

.left-panel,
.right-panel {
  flex: 0 0 vw(400);  // å›ºå®šå®½åº¦ 400px
}
</style>
```

## âš™ï¸ é…ç½®è¯´æ˜

### è°ƒæ•´è®¾è®¡ç¨¿å°ºå¯¸

å¦‚æœè®¾è®¡ç¨¿ä¸æ˜¯ 1920pxï¼Œå¯ä»¥åœ¨ `main.ts` ä¸­ä¿®æ”¹ï¼š

```typescript
// main.ts
import { initFlexible } from './utils/flexible'

initFlexible({
  designWidth: 1920,  // ä¿®æ”¹ä¸ºä½ çš„è®¾è®¡ç¨¿å®½åº¦
  maxWidth: 2560,     // æœ€å¤§å®½åº¦é™åˆ¶
  minWidth: 1280,     // æœ€å°å®½åº¦é™åˆ¶
})
```

åŒæ—¶ä¿®æ”¹ `src/styles/mixins.scss`ï¼š

```scss
// mixins.scss
$design-width: 1920 !default;  // ä¿®æ”¹ä¸ºä½ çš„è®¾è®¡ç¨¿å®½åº¦
$design-height: 1080 !default; // ä¿®æ”¹ä¸ºä½ çš„è®¾è®¡ç¨¿é«˜åº¦
```

### ç¦ç”¨è‡ªé€‚åº”

å¦‚æœæŸä¸ªé¡µé¢ä¸éœ€è¦è‡ªé€‚åº”ï¼Œå¯ä»¥ä½¿ç”¨å›ºå®šå•ä½ï¼š

```vue
<style scoped>
.fixed-box {
  width: 200px;  /* ä½¿ç”¨ pxï¼Œä¸ä¼šç¼©æ”¾ */
  height: 100px;
}
</style>
```

## ğŸ” è°ƒè¯•æŠ€å·§

### 1. æŸ¥çœ‹å½“å‰ç¼©æ”¾æ¯”ä¾‹

åœ¨æµè§ˆå™¨æ§åˆ¶å°è¾“å…¥ï¼š

```javascript
// æŸ¥çœ‹å½“å‰æ ¹å…ƒç´  font-size
getComputedStyle(document.documentElement).fontSize

// æŸ¥çœ‹å½“å‰ç¼©æ”¾æ¯”ä¾‹
document.documentElement.style.getPropertyValue('--scale-ratio')
```

### 2. ç›‘å¬ç¼©æ”¾äº‹ä»¶

```typescript
window.addEventListener('flexibleUpdate', (event: CustomEvent) => {
  console.log('ç¼©æ”¾æ›´æ–°:', event.detail)
  // { fontSize: 100, clientWidth: 1920, scale: 1 }
})
```

### 3. æ‰‹åŠ¨è§¦å‘æ›´æ–°

```typescript
import { getFlexible } from '@/utils/flexible'

// æ‰‹åŠ¨æ›´æ–°ç¼©æ”¾
getFlexible()?.update()
```

## ğŸ“± å“åº”å¼æ–­ç‚¹å‚è€ƒ

| æ–­ç‚¹åç§° | å®½åº¦èŒƒå›´ | è®¾å¤‡ç±»å‹ |
|---------|---------|---------|
| mobile  | < 768px | æ‰‹æœº |
| tablet  | < 1024px | å¹³æ¿ |
| desktop | < 1280px | å°å±ç”µè„‘ |
| large   | < 1920px | å¸¸è§„ç”µè„‘ |
| xlarge  | < 2560px | å¤§å±æ˜¾ç¤ºå™¨ |

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. ä¸è¦æ··ç”¨å•ä½

```scss
// âŒ é”™è¯¯ï¼šæ··ç”¨ px å’Œ rem
.box {
  width: px2rem(200);
  padding: 10px;  // ä¸ä¼šç¼©æ”¾
}

// âœ… æ­£ç¡®ï¼šç»Ÿä¸€ä½¿ç”¨ rem
.box {
  width: px2rem(200);
  padding: px2rem(10);
}
```

### 2. ç¬¬ä¸‰æ–¹ç»„ä»¶åº“

Layui Vue ç­‰ç¬¬ä¸‰æ–¹ç»„ä»¶åº“ä½¿ç”¨çš„æ˜¯ px å•ä½ï¼Œä¸ä¼šè‡ªåŠ¨ç¼©æ”¾ã€‚å¦‚éœ€è°ƒæ•´ï¼Œå¯ä»¥è¦†ç›–æ ·å¼ï¼š

```scss
:deep(.layui-btn) {
  height: px2rem(40);
  padding: 0 px2rem(20);
  font-size: px2rem(14);
}
```

### 3. å­—ä½“æœ€å°å€¼

ä¸ºäº†é¿å…å­—ä½“è¿‡å°ï¼Œå»ºè®®è®¾ç½®æœ€å°å­—ä½“ï¼š

```scss
.text {
  font-size: max(px2rem(12), 12px);  // æœ€å° 12px
}
```

### 4. å›¾ç‰‡å’Œå›¾æ ‡

å›¾ç‰‡ä¼šéšå®¹å™¨ç¼©æ”¾ï¼ŒSVG å›¾æ ‡å»ºè®®ä½¿ç”¨ rem è®¾ç½®å°ºå¯¸ï¼š

```scss
.icon {
  @include size(24);  // å›¾æ ‡ 24px
}
```

## ğŸ“ æœ€ä½³å®è·µ

1. **ä¼˜å…ˆä½¿ç”¨ px2rem()**ï¼šç®€å•ç›´è§‚ï¼Œè½¬æ¢æ¸…æ™°
2. **å¸ƒå±€ä½¿ç”¨ flex**ï¼šé…åˆ `@include flex()` mixin
3. **å“åº”å¼ä½¿ç”¨ respond-to()**ï¼šå¤„ç†ç‰¹æ®Šå°ºå¯¸
4. **å›ºå®šæ¯”ä¾‹ä½¿ç”¨ vw/vh**ï¼šå¦‚æ•°æ®å¤§å±
5. **ä¿æŒè®¾è®¡ç¨¿ä¸€è‡´**ï¼šç»Ÿä¸€ä½¿ç”¨ 1920px è®¾è®¡ç¨¿

## ğŸ“š å‚è€ƒèµ„æ–™

- [flexible.ts](../src/utils/flexible.ts) - æ ¸å¿ƒé€»è¾‘
- [mixins.scss](../src/styles/mixins.scss) - SCSS å·¥å…·
- [BasicLayout.vue](../src/layouts/BasicLayout.vue) - å¸ƒå±€ç¤ºä¾‹

---

**æ›´æ–°æ—¶é—´**: 2026-02-04  
**ç»´æŠ¤è€…**: å¼€å‘å›¢é˜Ÿ
