# 登录页改造分析

## 设计稿分析

### 整体布局
- **背景**：深色调办公场景图片（笔记本电脑、笔、记事本），带半透明暗色遮罩
- **登录卡片**：水平垂直居中，白色圆角卡片，单列布局
- **底部版权**：页面底部居中显示 `Copyright © 2021-2025`

### 登录卡片结构
```
┌────────────────────────────┐
│   蓝色渐变背景 + 波浪底部    │
│     办公用房管理系统         │
├────────────────────────────┤
│                            │
│  👤 请输入用户名            │
│  🔑 请输入密码              │
│  🛡️ 请输入验证码   [验证码]  │
│  ☐ 记住我                  │
│                            │
│  ┌──────────────────────┐  │
│  │      立即登录         │  │
│  └──────────────────────┘  │
│                            │
└────────────────────────────┘
```

### 样式细节
| 元素 | 样式描述 |
|------|----------|
| 卡片头部 | 蓝色渐变背景(#3B9DFF → #5AB8FF)，底部波浪曲线 |
| 标题 | 白色文字，居中，约24px |
| 输入框 | 灰色下划线风格，左侧带图标 |
| 验证码 | 右侧显示验证码图片，可点击刷新 |
| 登录按钮 | 蓝色圆角按钮，宽度100%，圆角约20px |
| 卡片圆角 | 约8-12px |
| 卡片阴影 | 轻微投影效果 |

---

## 当前实现分析

文件位置：`src/views/login/index.vue`

### 当前布局
- 左右双列布局（左侧蓝色标题区 + 右侧表单区）
- 有 Tab 切换（用户名 / 二维码）
- 有第三方登录入口（微信、钉钉、Gitee、Github）
- 背景为紫色渐变图，带装饰球

### 当前功能
- 用户名/密码登录
- 验证码（静态图片）
- 记住密码
- 二维码登录（占位）
- 第三方登录（占位）

---

## 改造对比

| 项目 | 设计稿 | 当前实现 | 需修改 |
|------|--------|----------|--------|
| 背景 | 办公场景暗色图 | 紫色渐变+装饰球 | ✅ |
| 布局 | 单列卡片 | 左右双列 | ✅ |
| 卡片头部 | 蓝色波浪背景 | 纯蓝色矩形 | ✅ |
| Tab切换 | 无 | 有 | ✅ 移除 |
| 第三方登录 | 无 | 有 | ✅ 移除 |
| 底部版权 | 有 | 无 | ✅ 添加 |
| 按钮文字 | 立即登录 | 登录 | ✅ |
| 输入框样式 | 下划线风格 | 边框风格 | ✅ |

---

## 实现步骤

### 第一步：准备资源
1. 准备背景图片（办公场景）放入 `src/assets/login/`
2. 创建波浪形 SVG 或使用 CSS 实现卡片头部波浪效果

### 第二步：修改 HTML 结构
```vue
<template>
  <div class="login-page">
    <!-- 背景层 -->
    <div class="login-bg"></div>

    <!-- 登录卡片 -->
    <div class="login-card">
      <!-- 头部 -->
      <div class="card-header">
        <h1>办公用房管理系统</h1>
        <div class="wave"></div>
      </div>

      <!-- 表单 -->
      <div class="card-body">
        <lay-form>
          <lay-form-item>
            <lay-input prefix-icon="layui-icon-username"
                       placeholder="请输入用户名"
                       v-model="loginForm.account" />
          </lay-form-item>

          <lay-form-item>
            <lay-input prefix-icon="layui-icon-password"
                       placeholder="请输入密码"
                       type="password"
                       v-model="loginForm.password" />
          </lay-form-item>

          <lay-form-item>
            <div class="captcha-row">
              <lay-input prefix-icon="layui-icon-vercode"
                         placeholder="请输入验证码"
                         v-model="loginForm.vercode" />
              <img class="captcha-img"
                   src="验证码地址"
                   @click="refreshCaptcha" />
            </div>
          </lay-form-item>

          <lay-form-item>
            <lay-checkbox v-model="remember">记住我</lay-checkbox>
          </lay-form-item>

          <lay-form-item>
            <lay-button type="primary"
                        :fluid="true"
                        class="login-btn"
                        @click="handleLogin">
              立即登录
            </lay-button>
          </lay-form-item>
        </lay-form>
      </div>
    </div>

    <!-- 底部版权 -->
    <div class="copyright">Copyright © 2021-2025</div>
  </div>
</template>
```

### 第三步：修改样式
```css
/* 页面容器 */
.login-page {
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
}

/* 背景 */
.login-bg {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: url('背景图路径') center/cover no-repeat;
  filter: brightness(0.4);  /* 暗化处理 */
  z-index: -1;
}

/* 登录卡片 */
.login-card {
  width: 380px;
  background: #fff;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
}

/* 卡片头部 */
.card-header {
  background: linear-gradient(135deg, #3B9DFF, #5AB8FF);
  padding: 30px 20px 50px;
  text-align: center;
  position: relative;
}

.card-header h1 {
  color: #fff;
  font-size: 24px;
  margin: 0;
}

/* 波浪效果 */
.card-header::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 30px;
  background: #fff;
  border-radius: 100% 100% 0 0;
}

/* 表单区域 */
.card-body {
  padding: 20px 30px 30px;
}

/* 输入框下划线风格 */
:deep(.layui-input) {
  border: none;
  border-bottom: 1px solid #ddd;
  border-radius: 0;
}

/* 验证码行 */
.captcha-row {
  display: flex;
  gap: 10px;
}

.captcha-img {
  width: 100px;
  height: 38px;
  cursor: pointer;
  border: 1px solid #ddd;
  border-radius: 4px;
}

/* 登录按钮 */
.login-btn {
  border-radius: 20px;
  height: 42px;
}

/* 底部版权 */
.copyright {
  position: fixed;
  bottom: 20px;
  left: 0;
  right: 0;
  text-align: center;
  color: rgba(255, 255, 255, 0.6);
  font-size: 12px;
}
```

### 第四步：精简脚本逻辑
1. 移除二维码相关代码
2. 移除第三方登录相关代码
3. 保留核心登录逻辑

```typescript
// 保留的核心功能
- loginForm (account, password, vercode)
- remember
- loginSubmit()
- refreshCaptcha()
```

---

## 文件清单

| 文件 | 操作 | 说明 |
|------|------|------|
| `src/views/login/index.vue` | 修改 | 重写登录页 |
| `src/assets/login/bg.jpg` | 新增 | 背景图片 |
| `src/assets/login/login-bg.svg` | 可选保留/删除 | 原装饰图 |

---

## 注意事项

1. **背景图片**：需要用户提供或使用设计稿中的背景图
2. **验证码**：当前为静态图片，实际接入需要后端 API
3. **响应式**：需测试移动端适配
4. **主题色**：蓝色渐变 `#3B9DFF` → `#5AB8FF` 可根据需要调整
